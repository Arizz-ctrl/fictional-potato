<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Weather Forecast</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, #2b5876, #4e4376 70%);
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      overflow: hidden;
    }
    .header {
      margin-top: 40px;
      color: #fff;
      font-size: 2.2em;
      letter-spacing: 2px;
      font-weight: 700;
      text-shadow: 2px 2px 8px #0007;
      display: flex;
      align-items: center;
      gap: 14px;
    }
    .header svg {
      width: 36px;
      height: 36px;
    }
    .clock {
      margin-top: 10px;
      color: #ffeb3b;
      font-size: 1.2em;
      font-weight: 600;
      text-shadow: 1px 1px 6px #0006;
      letter-spacing: 1px;
    }
    .input-box {
      margin: 50px 0 0 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 18px;
      z-index: 2;
    }
    .input-box input {
      padding: 12px 18px;
      border-radius: 8px;
      border: none;
      font-size: 1.1em;
      width: 230px;
      box-shadow: 0 2px 8px #0002;
      outline: none;
    }
    .input-box button {
      padding: 10px 28px;
      border-radius: 8px;
      border: none;
      background: #43ea72;
      color: #fff;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 2px 8px #0003;
      transition: background 0.2s;
    }
    .input-box button:hover {
      background: #2cb45d;
    }
    /* Loading Screen */
    .loading-screen {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255,255,255,0.98);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 100;
      transition: opacity 0.5s;
      opacity: 0;
      pointer-events: none;
    }
    .loading-screen.active {
      opacity: 1;
      pointer-events: all;
    }
    .loading-bar-bg {
      width: 310px;
      height: 22px;
      background: #e0e0e0;
      border-radius: 12px;
      margin-top: 18px;
      overflow: hidden;
      box-shadow: 0 2px 10px #0001;
    }
    .loading-bar {
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, #43ea72, #2cb45d 80%);
      border-radius: 12px;
      transition: width 0.4s;
    }
    .loading-text {
      margin-top: 28px;
      font-size: 1.2em;
      color: #333;
      font-weight: 500;
      min-height: 28px;
      letter-spacing: 1px;
      text-align: center;
    }
    /* Result Screen */
    .result-screen {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(135deg, #ff512f 0%, #dd2476 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 200;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s;
    }
    .result-screen.active {
      opacity: 1;
      pointer-events: all;
    }
    .result-box {
      background: rgba(255,255,255,0.95);
      border-radius: 18px;
      box-shadow: 0 6px 32px #0003;
      padding: 36px 32px 28px 32px;
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 90vw;
    }
    .result-box h2 {
      color: #d72660;
      font-size: 1.6em;
      margin-bottom: 18px;
      text-align: center;
    }
    .result-box p {
      color: #222;
      font-size: 1.1em;
      margin-bottom: 28px;
      text-align: center;
      font-weight: 500;
    }
    .result-box button {
      padding: 10px 34px;
      border-radius: 8px;
      border: none;
      background: #d72660;
      color: #fff;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 2px 8px #0002;
      transition: background 0.2s;
    }
    .result-box button:hover {
      background: #a41c43;
    }
    /* Fun Shapes */
    .cloud {
      position: absolute;
      top: 18vh;
      left: 12vw;
      width: 80px;
      height: 50px;
      background: #fff;
      border-radius: 40px 40px 30px 30px;
      box-shadow: 40px 0 0 0 #fff, 20px 10px 0 0 #fff7, 60px 10px 0 0 #fff4;
      opacity: 0.7;
      z-index: 1;
      animation: cloudMove 18s linear infinite;
    }
    .cloud2 {
      top: 30vh;
      left: 60vw;
      width: 60px;
      height: 38px;
      box-shadow: 30px 0 0 0 #fff, 12px 10px 0 0 #fff7, 44px 10px 0 0 #fff4;
      opacity: 0.5;
      animation-duration: 24s;
    }
    @keyframes cloudMove {
      0% { transform: translateX(0); }
      100% { transform: translateX(40vw); }
    }
    .sun {
      position: absolute;
      top: 8vh;
      right: 10vw;
      width: 60px;
      height: 60px;
      background: #ffe066;
      border-radius: 50%;
      box-shadow: 0 0 54px 18px #ffe06670;
      z-index: 1;
      animation: sunPulse 4s ease-in-out infinite;
    }
    @keyframes sunPulse {
      0%, 100% { box-shadow: 0 0 54px 18px #ffe06670; }
      50% { box-shadow: 0 0 80px 32px #ffe066b0; }
    }
  </style>
</head>
<body>
  <div class="cloud"></div>
  <div class="cloud cloud2"></div>
  <div class="sun"></div>
  <div class="header">
    <svg viewBox="0 0 24 24" fill="#fff"><circle cx="12" cy="12" r="10" fill="#ffeb3b"/><ellipse cx="12" cy="17" rx="7" ry="3" fill="#fff"/></svg>
    AI Weather Forecast
  </div>
  <div class="clock" id="clock"></div>
  <div class="input-box" id="inputBox">
    <input type="text" id="cityInput" placeholder="Enter Your City Name" autocomplete="off" />
    <button id="nextBtn" onclick="showGetForecast()">Next</button>
  </div>
  <div class="input-box" id="getForecastBox" style="display:none;">
    <input type="text" id="cityInput2" disabled />
    <button id="forecastBtn" onclick="startLoading()">Get Forecast</button>
  </div>
  <!-- Loading Screen -->
  <div class="loading-screen" id="loadingScreen">
    <div class="loading-bar-bg">
      <div class="loading-bar" id="loadingBar"></div>
    </div>
    <div class="loading-text" id="loadingText">Analyzing Cloud Pattern...</div>
  </div>
  <!-- Result Screen -->
  <div class="result-screen" id="resultScreen">
    <div class="result-box">
      <h2>AI Weather Forecast Result</h2>
      <p id="roastLine"></p>
      <button onclick="closeResult()">OK</button>
    </div>
  </div>
  <script>
    // Show Indian time
    function updateClock() {
      // IST is UTC+5:30
      const now = new Date();
      const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
      const istTime = new Date(utc + (5.5 * 3600000));
      let h = istTime.getHours();
      let m = istTime.getMinutes();
      let s = istTime.getSeconds();
      let ampm = h >= 12 ? 'PM' : 'AM';
      h = h % 12; h = h ? h : 12;
      m = m < 10 ? '0' + m : m;
      s = s < 10 ? '0' + s : s;
      document.getElementById('clock').textContent =
        `India Time: ${h}:${m}:${s} ${ampm}`;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // Input handling
    function showGetForecast() {
      const val = document.getElementById('cityInput').value.trim();
      if (!val) {
        document.getElementById('cityInput').focus();
        return;
      }
      document.getElementById('inputBox').style.display = 'none';
      document.getElementById('cityInput2').value = val;
      document.getElementById('getForecastBox').style.display = 'flex';
    }

    // Loading steps
    const loadingSteps = [
      "Analyzing Cloud Pattern...",
      "Measuring Wind Speed...",
      "Gathering Satellite Data...",
      "Checking Temperature...",
      "Finalizing Forecast..."
    ];
    function startLoading() {
      document.getElementById('getForecastBox').style.display = 'none';
      const loadingScreen = document.getElementById('loadingScreen');
      loadingScreen.classList.add('active');
      const bar = document.getElementById('loadingBar');
      const text = document.getElementById('loadingText');
      let step = 0;
      bar.style.width = '0';
      text.textContent = loadingSteps[0];
      let percent = 0;
      function nextStep() {
        if (step < loadingSteps.length) {
          text.textContent = loadingSteps[step];
          percent = Math.round((step + 1) / loadingSteps.length * 100);
          bar.style.width = percent + '%';
          step++;
          setTimeout(nextStep, 900);
        } else {
          setTimeout(showResult, 700);
        }
      }
      nextStep();
    }
    function showResult() {
      document.getElementById('loadingScreen').classList.remove('active');
      document.getElementById('resultScreen').classList.add('active');
      // Savage roast line only, no city name:
      document.getElementById('roastLine').textContent =
        `Just look outside. Even the satellites are judging you.`;
    }
    function closeResult() {
      document.getElementById('resultScreen').classList.remove('active');
      document.getElementById('inputBox').style.display = 'flex';
      document.getElementById('cityInput').value = '';
      document.getElementById('cityInput').focus();
      document.getElementById('getForecastBox').style.display = 'none';
      document.getElementById('loadingBar').style.width = '0';
    }
    // Enter key support
    document.getElementById('cityInput').addEventListener('keydown', function(e){
      if(e.key === 'Enter') showGetForecast();
    });
    document.getElementById('cityInput2').addEventListener('keydown', function(e){
      if(e.key === 'Enter') startLoading();
    });
  </script>
</body>
</html>
